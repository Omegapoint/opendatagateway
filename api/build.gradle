buildscript {
    ext {
          springBootVersion = '1.5.2.RELEASE'
    }
    repositories {
        mavenCentral()
        jcenter()
    }
    dependencies {
      classpath("org.springframework.boot:spring-boot-gradle-plugin:${springBootVersion}")
      classpath 'com.bmuschko:gradle-docker-plugin:3.0.6'
    }
}

apply plugin: 'org.springframework.boot'
apply plugin: 'application'
apply plugin: 'com.bmuschko.docker-java-application'

dependencies {
    compile('org.springframework.boot:spring-boot-starter-web')
    compile('org.elasticsearch:elasticsearch:5.2.2')
    compile('io.searchbox:jest:2.0.0')
    compile('org.apache.logging.log4j:log4j-api:2.7')
    compile('org.apache.logging.log4j:log4j-core:2.7')
}

jar {
    baseName = 'opendatagateway.api'
    version = '0.0.1-SNAPSHOT'
}

docker {
    javaApplication {
        baseImage = 'java:openjdk-8-jre'
        maintainer = 'Omegapoint opendatagateway team'
        tag = 'opendatagateway/api'
    }
}
